(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[876],{87168:function(e,t,s){Promise.resolve().then(s.bind(s,11597))},11597:function(e,t,s){"use strict";s.r(t);var a=s(20881),n=s(64149),i=s(94920),c=s(33335),l=s(23853),r=s(78580),o=s(46646),d=s(6120);t.default=()=>{let[e,t]=(0,n.useState)("0"),[s,u]=(0,n.useState)(!1),[h,m]=(0,n.useState)(!0),[x,g]=(0,n.useState)(""),[f,j]=(0,n.useState)(""),v=(0,o.pm)();(0,n.useEffect)(()=>{(async()=>{try{let e=await fetch("/cgi-bin/advance/ttl.sh"),s=await e.json();u(s.isEnabled),t(s.currentValue.toString()),m(!1)}catch(e){g("Failed to fetch TTL settings"),m(!1),v.toast({variant:"destructive",title:"Uh oh! Something went wrong.",description:x,action:(0,a.jsx)(d.Z,{})})}})()},[]);let b=async t=>{t.preventDefault(),g(""),j("");let n=s?e:"0";try{let e=await fetch("/cgi-bin/advance/ttl.sh",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"ttl=".concat(n)}),t=await e.json();!0===t.success?v.toast({title:"Success",description:"Settings saved successfully"}):v.toast({variant:"destructive",title:"Uh oh! Something went wrong.",description:"Failed to save settings",action:(0,a.jsx)(d.Z,{})})}catch(e){g("Failed to save settings")}};return h?(0,a.jsx)(i.Zb,{className:"w-full max-w-2xl mx-auto",children:(0,a.jsx)(i.aY,{className:"p-6",children:(0,a.jsx)("div",{className:"text-center",children:"Loading TTL settings..."})})}):(0,a.jsxs)(i.Zb,{children:[(0,a.jsxs)(i.Ol,{children:[(0,a.jsx)(i.ll,{children:"TTL Settings"}),(0,a.jsx)(i.SZ,{children:"Configure TTL mangling for your connection."})]}),(0,a.jsx)(i.aY,{children:(0,a.jsxs)("form",{onSubmit:b,className:"space-y-8",children:[(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"TTL Value"}),(0,a.jsx)(c.I,{type:"number",min:"0",max:"255",value:e,onChange:e=>t(e.target.value),disabled:!s,className:"mt-1"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Set the TTL value for your connection (0-255)."})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between rounded-lg border p-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-base font-medium",children:"TTL State"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Toggle to enable or disable TTL mangling"})]}),(0,a.jsx)(l.r,{checked:s,onCheckedChange:u})]})]}),(0,a.jsx)(r.z,{type:"submit",className:"w-full",children:"Save Configuration"})]})})]})}}},function(e){e.O(0,[792,59,529,985,330,744],function(){return e(e.s=87168)}),_N_E=e.O()}]);